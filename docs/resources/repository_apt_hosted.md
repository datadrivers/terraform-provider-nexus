---
page_title: "Resource nexus_repository_apt_hosted"
subcategory: "Repository"
description: |-
  Use this resource to create a hosted apt repository.
---
# Resource nexus_repository_apt_hosted
Use this resource to create a hosted apt repository.
## Example Usage
```terraform
resource "nexus_repository_apt_hosted" "bullseye_stable" {
  name   = "bullseye-stable"
  online = true

  distribution = "bullseye"

  signing {
    # The passphrase set here will never be returned from the nexus API.
    # When reading the resource, the passphrase will be read from the previous state,
    # so external changes won't be detected.`,

    # If the passphrase is unset or empty, the nexus API will also not return the keypair.
    # When reading the resource, the keypair will be read from the previous state in this case,
    # so external changes won't be detected.`,

    keypair    = "keypair"
    passphrase = "passphrase"
  }

  storage {
    blob_store_name                = "default"
    strict_content_type_validation = true
    write_policy                   = "ALLOW"
  }
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `distribution` (String) Distribution to fetch
- `name` (String) A unique identifier for this repository
- `signing` (Block List, Min: 1, Max: 1) Signing contains signing data of hosted repositores of format Apt (see [below for nested schema](#nestedblock--signing))
- `storage` (Block List, Min: 1, Max: 1) The storage configuration of the repository (see [below for nested schema](#nestedblock--storage))

### Optional

- `cleanup` (Block List) Cleanup policies (see [below for nested schema](#nestedblock--cleanup))
- `component` (Block List, Max: 1) Component configuration for the hosted repository (see [below for nested schema](#nestedblock--component))
- `online` (Boolean) Whether this repository accepts incoming requests

### Read-Only

- `id` (String) Used to identify resource at nexus

<a id="nestedblock--signing"></a>
### Nested Schema for `signing`

Required:

- `keypair` (String, Sensitive) PGP signing key pair (armored private key e.g. gpg --export-secret-key --armor)
							If passphrase is unset, the keypair cannot be read from the nexus api.
							When reading the resource, the keypair will be read from the previous state,
							so external changes won't be detected in this case.

Optional:

- `passphrase` (String, Sensitive) Passphrase to access PGP signing key.
							This value cannot be read from the nexus api.
							When reading the resource, the value will be read from the previous state,
							so external changes won't be detected.


<a id="nestedblock--storage"></a>
### Nested Schema for `storage`

Required:

- `blob_store_name` (String) Blob store used to store repository contents
- `strict_content_type_validation` (Boolean) Whether to validate uploaded content's MIME type appropriate for the repository format

Optional:

- `write_policy` (String) Controls if deployments of and updates to assets are allowed


<a id="nestedblock--cleanup"></a>
### Nested Schema for `cleanup`

Optional:

- `policy_names` (Set of String) List of policy names


<a id="nestedblock--component"></a>
### Nested Schema for `component`

Required:

- `proprietary_components` (Boolean) Components in this repository count as proprietary for namespace conflict attacks (requires Sonatype Nexus Firewall)
## Import
Import is supported using the following syntax:
```shell
# import using the name of repository
terraform import nexus_repository_apt_hosted.bullseye_stable bullseye-stable
```
